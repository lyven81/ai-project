<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sales Dashboard Agent - Natural Language to Code Analytics</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: #222;
            background-color: #ffffff;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        .back-nav {
            margin-bottom: 20px;
        }

        .back-nav a {
            color: #007BFF;
            text-decoration: none;
            font-size: 1rem;
        }

        .back-nav a:hover {
            text-decoration: underline;
        }

        .project-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 0;
            background: linear-gradient(135deg, #F59E0B, #D97706);
            color: white;
            border-radius: 10px;
        }

        .project-header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .project-header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .badges {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .badge {
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.9rem;
        }

        .demo-links {
            text-align: center;
            margin: 30px 0;
        }

        .demo-btn {
            display: inline-block;
            background-color: #F59E0B;
            color: white;
            padding: 12px 25px;
            text-decoration: none;
            border-radius: 5px;
            margin: 0 10px;
            font-weight: bold;
            transition: background-color 0.3s;
        }

        .demo-btn:hover {
            background-color: #D97706;
        }

        .demo-btn.secondary {
            background-color: #3B82F6;
        }

        .demo-btn.secondary:hover {
            background-color: #2563EB;
        }

        .content-section {
            margin: 40px 0;
            padding: 30px;
            background-color: #f9f9f9;
            border-radius: 8px;
            border-left: 5px solid #F59E0B;
        }

        .content-section h2 {
            color: #F59E0B;
            margin-bottom: 20px;
            font-size: 1.8rem;
        }

        .content-section h3 {
            color: #333;
            margin: 20px 0 10px 0;
            font-size: 1.3rem;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-item {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #ddd;
        }

        .feature-item h4 {
            color: #F59E0B;
            margin-bottom: 10px;
        }

        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
        }

        .tech-item {
            background-color: #F59E0B;
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.9rem;
        }

        .code-block {
            background-color: #f4f4f4;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
            font-family: monospace;
            overflow-x: auto;
        }

        .metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .metric-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            border: 2px solid #F59E0B;
        }

        .metric-number {
            font-size: 2rem;
            font-weight: bold;
            color: #F59E0B;
        }

        .metric-label {
            color: #666;
            font-size: 0.9rem;
        }

        .query-table {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            margin: 20px 0;
        }

        .query-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .query-table th, .query-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        .query-table th {
            background-color: #F59E0B;
            color: white;
        }

        @media (max-width: 768px) {
            .project-header h1 {
                font-size: 2rem;
            }

            .project-header p {
                font-size: 1rem;
            }

            .badges {
                justify-content: center;
            }

            .demo-btn {
                margin: 5px;
                padding: 10px 20px;
            }

            .container {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <nav class="back-nav">
            <a href="index.html">‚Üê Back to Portfolio</a>
        </nav>

        <div class="project-header">
            <h1>üìä Sales Dashboard Agent</h1>
            <p>Natural language-to-code AI agent for business analytics with automated visualizations</p>

            <div class="badges">
                <span class="badge">Google Colab</span>
                <span class="badge">Gemini 2.0 Flash</span>
                <span class="badge">Code-as-Plan</span>
                <span class="badge">TinyDB</span>
                <span class="badge">Auto-Viz</span>
            </div>
        </div>

        <div class="demo-links">
            <a href="https://colab.research.google.com/drive/1ssz7RkCySo4fhzkLdCs5c7gCgkP7ypv7" target="_blank" class="demo-btn">üöÄ Launch Google Colab Demo</a>
            <a href="sales-dashboard-agent-source.html" class="demo-btn secondary">üìÅ View Source Code</a>
        </div>

        <div class="content-section">
            <h2>üìã Project Overview & Problem Statement</h2>
            <p><strong>Challenge:</strong> Business analysts spend hours writing SQL queries and Python code to extract insights from sales data. Non-technical stakeholders struggle to get timely answers without developer support. Traditional BI dashboards are rigid, require upfront configuration, and don't adapt to ad-hoc questions.</p>

            <p><strong>Solution:</strong> Sales Dashboard Agent converts natural language business questions into executable Python analytics code. Ask questions in plain English like "What were our top 5 products by revenue in Q4?" and get instant answers with automated visualizations. The "code-as-plan" pattern provides full transparency - you can see and verify the exact analytics code generated by the AI.</p>

            <h3>Key Benefits</h3>
            <ul>
                <li><strong>Natural Language Interface:</strong> Ask business questions in plain English without SQL or Python knowledge</li>
                <li><strong>Code Transparency:</strong> See the exact Python code generated for every query</li>
                <li><strong>Auto-Visualizations:</strong> Request charts with phrases like "show me a bar chart"</li>
                <li><strong>Safe Execution:</strong> Sandboxed read-only environment prevents data corruption</li>
                <li><strong>Fast Insights:</strong> 1-3 seconds from question to answer with visualizations</li>
            </ul>
        </div>

        <div class="content-section">
            <h2>ü§ñ Code-as-Plan Architecture</h2>

            <div class="features-grid">
                <div class="feature-item">
                    <h4>üí¨ Natural Language Processing</h4>
                    <p>Gemini 2.0 Flash analyzes business questions and understands intent: filtering, aggregation, grouping, visualization requests.</p>
                </div>

                <div class="feature-item">
                    <h4>üîß Code Generation</h4>
                    <p>AI generates executable Python code with TinyDB queries dynamically based on your data schema and question context.</p>
                </div>

                <div class="feature-item">
                    <h4>üîí Safe Execution</h4>
                    <p>Code runs in sandboxed environment with read-only access. Only safe operations allowed (aggregations, filtering, visualization).</p>
                </div>

                <div class="feature-item">
                    <h4>üìä Auto-Visualization</h4>
                    <p>When you request charts, AI generates complete Matplotlib/Seaborn code with proper labels, titles, and formatting.</p>
                </div>
            </div>

            <h3>How It Works</h3>
            <p><strong>User Question ‚Üí AI Code Generation ‚Üí Safe Execution ‚Üí Results</strong></p>
            <ul>
                <li><strong>Step 1:</strong> User asks: "Which region had the highest profit in 2024?"</li>
                <li><strong>Step 2:</strong> Gemini generates TinyDB query and aggregation code</li>
                <li><strong>Step 3:</strong> Code executes in controlled namespace (no file access, no mutations)</li>
                <li><strong>Step 4:</strong> Returns answer: "West region with $2.3M profit (45% margin)"</li>
                <li><strong>Optional:</strong> If chart requested, generates and displays visualization</li>
            </ul>
        </div>

        <div class="content-section">
            <h2>üìñ Sample Queries & Capabilities</h2>

            <div class="query-table">
                <table>
                    <thead>
                        <tr>
                            <th>Query Category</th>
                            <th>Example Questions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Revenue & Profit</strong></td>
                            <td>
                                "What were total sales in November 2024?"<br>
                                "Which region generated the most profit?"<br>
                                "Show revenue trends by month in a line chart"
                            </td>
                        </tr>
                        <tr>
                            <td><strong>Product Analysis</strong></td>
                            <td>
                                "Top 5 best-selling products by revenue"<br>
                                "Which products have profit margins above 30%?"<br>
                                "Show product performance in a bar chart"
                            </td>
                        </tr>
                        <tr>
                            <td><strong>Customer Insights</strong></td>
                            <td>
                                "Which customer spent the most in electronics?"<br>
                                "Top 10 customers by quantity ordered"<br>
                                "Show customer distribution by region"
                            </td>
                        </tr>
                        <tr>
                            <td><strong>Category Performance</strong></td>
                            <td>
                                "Average order value for each category"<br>
                                "Revenue breakdown by product category"<br>
                                "Which category has the lowest margin?"
                            </td>
                        </tr>
                        <tr>
                            <td><strong>Margin Analysis</strong></td>
                            <td>
                                "What products have margins below 10%?"<br>
                                "Calculate profit margin by region"<br>
                                "Show margin distribution in table format"
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="content-section">
            <h2>üõ†Ô∏è Technical Architecture</h2>

            <h3>AI & Processing Stack</h3>
            <div class="tech-stack">
                <span class="tech-item">Gemini 2.0 Flash Experimental</span>
                <span class="tech-item">TinyDB</span>
                <span class="tech-item">Python 3.8+</span>
                <span class="tech-item">Google Colab</span>
                <span class="tech-item">Pandas</span>
            </div>

            <h3>Data Visualization</h3>
            <div class="tech-stack">
                <span class="tech-item">Matplotlib</span>
                <span class="tech-item">Seaborn</span>
                <span class="tech-item">HTML Output</span>
                <span class="tech-item">Color-Coded Logs</span>
            </div>

            <h3>Code Execution Workflow</h3>
            <p><strong>Prompt Engineering & Safe Execution:</strong></p>
            <ul>
                <li><strong>Schema Context:</strong> AI receives database schema with sample records</li>
                <li><strong>Example Patterns:</strong> Prompt includes TinyDB query examples for guidance</li>
                <li><strong>Output Requirements:</strong> Must set <code>answer_text</code> with human-friendly summary</li>
                <li><strong>Visualization Patterns:</strong> Includes Matplotlib/Seaborn code examples</li>
                <li><strong>Safe Globals:</strong> Only approved functions (sum, len, sorted, Query)</li>
            </ul>

            <h3>Data Schema Support</h3>
            <p><strong>Sales Order Schema (Customizable):</strong></p>
            <ul>
                <li><strong>Order Info:</strong> Order_ID, Order_Date, Customer_Name</li>
                <li><strong>Location:</strong> City, State, Region, Country</li>
                <li><strong>Products:</strong> Category, Sub_Category, Product_Name</li>
                <li><strong>Metrics:</strong> Quantity, Unit_Price, Revenue, Profit</li>
            </ul>
        </div>

        <div class="content-section">
            <h2>üìñ Usage Examples & Code Generation</h2>

            <h3>Example 1: Simple Query</h3>
            <div class="code-block">
# User asks:
"What were our total sales in November 2024?"

# AI generates this code:
Item = Query()
nov_orders = orders_tbl.search(
    (Item.Order_Date >= '2024-11-01') &
    (Item.Order_Date <= '2024-11-30')
)
nov_revenue = sum(o['Revenue'] for o in nov_orders)
answer_text = f"November 2024: ${nov_revenue:,.2f} from {len(nov_orders)} orders."

# Result:
"November 2024: $1,234,567.89 from 2,845 orders."
            </div>

            <h3>Example 2: Top Products with Aggregation</h3>
            <div class="code-block">
# User asks:
"Show me the top 5 products by profit"

# AI generates this code:
from collections import defaultdict
product_profit = defaultdict(float)
for order in orders_tbl.all():
    product_profit[order['Product_Name']] += order['Profit']

top_5 = sorted(product_profit.items(), key=lambda x: x[1], reverse=True)[:5]
answer_text = f"Top product: {top_5[0][0]} with ${top_5[0][1]:,.2f} profit."

# Result:
"Top product: MacBook Pro 16\" with $45,230.50 profit."
            </div>

            <h3>Example 3: Visualization Request</h3>
            <div class="code-block">
# User asks:
"Show me a bar chart of total revenue by region"

# AI generates this code:
import matplotlib.pyplot as plt
region_revenue = {}
for order in orders_tbl.all():
    region = order['Region']
    revenue = order['Revenue']
    region_revenue[region] = region_revenue.get(region, 0) + revenue

plt.figure(figsize=(10, 6))
plt.bar(region_revenue.keys(), region_revenue.values())
plt.title('Total Revenue by Region', fontsize=14, fontweight='bold')
plt.xlabel('Region')
plt.ylabel('Revenue ($)')
plt.show()

answer_text = f"West region leads with ${max(region_revenue.values()):,.2f}"

# Result: Bar chart displayed + summary text
            </div>
        </div>

        <div class="content-section">
            <h2>üöÄ Getting Started with Google Colab</h2>

            <h3>Quick Start (3 Steps)</h3>
            <ul>
                <li><strong>Step 1:</strong> Open <a href="https://colab.research.google.com/drive/1ssz7RkCySo4fhzkLdCs5c7gCgkP7ypv7" target="_blank">Google Colab Notebook</a></li>
                <li><strong>Step 2:</strong> Upload your sales dataset CSV file when prompted</li>
                <li><strong>Step 3:</strong> Add Gemini API key:
                    <ul>
                        <li>Get free key from <a href="https://ai.google.dev/" target="_blank">Google AI Studio</a></li>
                        <li>Paste directly in notebook or use Colab Secrets</li>
                    </ul>
                </li>
            </ul>

            <h3>Interactive Query Interface</h3>
            <p><strong>How to use the agent:</strong></p>
            <ul>
                <li><strong>Ask Questions:</strong> Type natural language queries in plain English</li>
                <li><strong>View Code:</strong> See the exact Python code generated by AI</li>
                <li><strong>Get Answers:</strong> Receive business-friendly summaries with metrics</li>
                <li><strong>Request Charts:</strong> Add "show in bar chart" or "display line chart"</li>
                <li><strong>Iterate:</strong> Refine questions based on initial results</li>
            </ul>
        </div>

        <div class="content-section">
            <h2>üìä Performance & Security Metrics</h2>

            <div class="metrics">
                <div class="metric-card">
                    <div class="metric-number">1-3s</div>
                    <div class="metric-label">Query Response Time</div>
                </div>
                <div class="metric-card">
                    <div class="metric-number">95%+</div>
                    <div class="metric-label">Code Generation Accuracy</div>
                </div>
                <div class="metric-card">
                    <div class="metric-number">100K+</div>
                    <div class="metric-label">Supported Order Records</div>
                </div>
                <div class="metric-card">
                    <div class="metric-number">100%</div>
                    <div class="metric-label">Read-Only Safety</div>
                </div>
            </div>

            <h3>Security Features</h3>
            <ul>
                <li><strong>Sandboxed Execution:</strong> No file system access, network calls, or system commands</li>
                <li><strong>Read-Only Operations:</strong> Database mutations (insert, update, delete) blocked</li>
                <li><strong>Controlled Namespace:</strong> Only whitelisted functions and libraries allowed</li>
                <li><strong>No Data Persistence:</strong> In-memory database, data cleared after session</li>
                <li><strong>Code Transparency:</strong> Every query shows generated code before execution</li>
            </ul>

            <h3>Supported Chart Types</h3>
            <ul>
                <li><strong>Bar Charts:</strong> Revenue/profit by category, region, product, customer</li>
                <li><strong>Line Charts:</strong> Time series trends (daily, monthly, quarterly)</li>
                <li><strong>Scatter Plots:</strong> Price vs profit, quantity vs revenue correlations</li>
                <li><strong>Tables:</strong> Formatted data displays, sorted rankings, filtered results</li>
            </ul>
        </div>

        <div class="content-section">
            <h2>üéØ Business Use Cases</h2>

            <h3>Sales Analytics</h3>
            <ul>
                <li>Track revenue and profit trends over time</li>
                <li>Identify top-performing products, regions, and customers</li>
                <li>Analyze seasonal patterns and growth rates</li>
                <li>Compare performance across product categories</li>
            </ul>

            <h3>Product Performance</h3>
            <ul>
                <li>Calculate profit margins by product and category</li>
                <li>Find underperforming products (low margins, low sales)</li>
                <li>Identify bestsellers and top revenue generators</li>
                <li>Analyze price-profit relationships</li>
            </ul>

            <h3>Customer Insights</h3>
            <ul>
                <li>Segment customers by spending, order frequency, and preferences</li>
                <li>Identify high-value customers and VIPs</li>
                <li>Analyze customer distribution by region and category</li>
                <li>Track customer lifetime value</li>
            </ul>

            <h3>Operational Intelligence</h3>
            <ul>
                <li>Monitor inventory turnover and demand</li>
                <li>Optimize pricing strategies based on margin analysis</li>
                <li>Forecast revenue based on historical trends</li>
                <li>Identify cross-selling and bundling opportunities</li>
            </ul>
        </div>

        <div class="demo-links">
            <a href="https://colab.research.google.com/drive/1ssz7RkCySo4fhzkLdCs5c7gCgkP7ypv7" target="_blank" class="demo-btn">üöÄ Try Live Demo on Google Colab</a>
            <a href="https://github.com/lyven81/ai-project/tree/main/projects/sales-dashboard-agent/README.md" target="_blank" class="demo-btn secondary">üìñ Full Documentation</a>
        </div>

        <nav class="back-nav" style="text-align: center; margin-top: 40px;">
            <a href="index.html">‚Üê Back to Portfolio</a> |
            <a href="project-categories.html">View All Categories</a>
        </nav>
    </div>
</body>
</html>
