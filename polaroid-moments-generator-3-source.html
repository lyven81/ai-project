<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Polaroid Moments Generator 3 - Source Code</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: #222;
            background-color: #ffffff;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        .back-nav {
            margin-bottom: 20px;
        }

        .back-nav a {
            color: #007BFF;
            text-decoration: none;
            font-size: 1rem;
        }

        .back-nav a:hover {
            text-decoration: underline;
        }

        .project-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 0;
            background: linear-gradient(135deg, #E91E63, #9C27B0);
            color: white;
            border-radius: 10px;
        }

        .project-header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .project-header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .badges {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .badge {
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.9rem;
        }

        .content-section {
            margin: 40px 0;
            padding: 30px;
            background-color: #f9f9f9;
            border-radius: 8px;
            border-left: 5px solid #E91E63;
        }

        .content-section h2 {
            color: #E91E63;
            margin-bottom: 20px;
            font-size: 1.8rem;
        }

        .content-section h3 {
            color: #333;
            margin: 20px 0 10px 0;
            font-size: 1.3rem;
        }

        .highlight-box {
            background: linear-gradient(135deg, #FFF8E1, #FFF3C4);
            padding: 20px;
            border-radius: 10px;
            border-left: 5px solid #E91E63;
            margin: 20px 0;
        }

        .code-container {
            background-color: #1e1e1e;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            overflow-x: auto;
        }

        .code-header {
            color: #569cd6;
            font-weight: bold;
            margin-bottom: 15px;
            font-size: 1.1rem;
            border-bottom: 1px solid #333;
            padding-bottom: 10px;
        }

        .code-block {
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
            color: #d4d4d4;
        }

        .code-comment {
            color: #6a9955;
            font-style: italic;
        }

        .code-keyword {
            color: #569cd6;
        }

        .code-string {
            color: #ce9178;
        }

        .code-function {
            color: #dcdcaa;
        }

        .code-number {
            color: #b5cea8;
        }

        .demo-links {
            text-align: center;
            margin: 30px 0;
        }

        .demo-btn {
            display: inline-block;
            background-color: #007BFF;
            color: white;
            padding: 12px 25px;
            text-decoration: none;
            border-radius: 5px;
            margin: 0 10px;
            font-weight: bold;
            transition: background-color 0.3s;
        }

        .demo-btn:hover {
            background-color: #0056b3;
        }

        .demo-btn.secondary {
            background-color: #28a745;
        }

        .demo-btn.secondary:hover {
            background-color: #218838;
        }

        @media (max-width: 768px) {
            .project-header h1 {
                font-size: 2rem;
            }

            .project-header p {
                font-size: 1rem;
            }

            .demo-btn {
                margin: 5px;
                padding: 10px 20px;
            }

            .container {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="back-nav">
            <a href="polaroid-moments-generator-3.html">‚Üê Back to Project Overview</a>
        </div>

        <div class="project-header">
            <h1>üì∏ Polaroid Moments Generator 3</h1>
            <p>Three-Person Group Photo AI - Core Source Code & Implementation</p>

            <div class="badges">
                <span class="badge">React 19.1+</span>
                <span class="badge">TypeScript</span>
                <span class="badge">Gemini AI</span>
                <span class="badge">Three-Person</span>
            </div>
        </div>

        <div class="content-section">
            <h2>üìã About This Code Showcase</h2>
            <p>This page presents the core implementation of the Polaroid Moments Generator 3, demonstrating advanced three-person group photo composition using React, TypeScript, and Google Gemini AI. The application showcases sophisticated multi-subject image processing, story-driven pose generation, and authentic vintage aesthetics.</p>

            <div class="highlight-box">
                <strong>üéØ Key Implementation Highlights:</strong>
                <ul style="margin-top: 10px;">
                    <li>Three-person image upload and processing with advanced AI coordination</li>
                    <li>Story-driven pose generation with emotional narrative templates</li>
                    <li>Complex group composition algorithms for realistic social dynamics</li>
                    <li>Vintage polaroid aesthetic processing with authentic color grading</li>
                    <li>Type-safe React architecture with modern hooks and components</li>
                </ul>
            </div>
        </div>

        <div class="code-container">
            <div class="code-header">üì± App.tsx - Three-Person Application Component</div>
            <pre class="code-block">
<span class="code-keyword">import</span> React, { useState, useCallback, useEffect } <span class="code-keyword">from</span> <span class="code-string">'react'</span>;
<span class="code-keyword">import</span> { ImageUploader } <span class="code-keyword">from</span> <span class="code-string">'./components/ImageUploader'</span>;
<span class="code-keyword">import</span> { ImageGrid } <span class="code-keyword">from</span> <span class="code-string">'./components/ImageGrid'</span>;
<span class="code-keyword">import</span> { Loader } <span class="code-keyword">from</span> <span class="code-string">'./components/Loader'</span>;
<span class="code-keyword">import</span> { generatePolaroidImages } <span class="code-keyword">from</span> <span class="code-string">'./services/geminiService'</span>;
<span class="code-keyword">import</span> { POSE_PROMPTS } <span class="code-keyword">from</span> <span class="code-string">'./constants'</span>;

<span class="code-keyword">const</span> <span class="code-function">App</span>: React.FC = () => {
  <span class="code-comment">// Three-person image state management</span>
  <span class="code-keyword">const</span> [image1, setImage1] = <span class="code-function">useState</span>&lt;File | <span class="code-keyword">null</span>&gt;(<span class="code-keyword">null</span>);
  <span class="code-keyword">const</span> [image2, setImage2] = <span class="code-function">useState</span>&lt;File | <span class="code-keyword">null</span>&gt;(<span class="code-keyword">null</span>);
  <span class="code-keyword">const</span> [image3, setImage3] = <span class="code-function">useState</span>&lt;File | <span class="code-keyword">null</span>&gt;(<span class="code-keyword">null</span>);
  <span class="code-keyword">const</span> [generatedImages, setGeneratedImages] = <span class="code-function">useState</span>&lt;<span class="code-keyword">string</span>[]&gt;([]);
  <span class="code-keyword">const</span> [isLoading, setIsLoading] = <span class="code-function">useState</span>&lt;<span class="code-keyword">boolean</span>&gt;(<span class="code-keyword">false</span>);
  <span class="code-keyword">const</span> [error, setError] = <span class="code-function">useState</span>&lt;<span class="code-keyword">string</span> | <span class="code-keyword">null</span>&gt;(<span class="code-keyword">null</span>);

  <span class="code-comment">// Enhanced validation for three-person requirement</span>
  <span class="code-keyword">const</span> <span class="code-function">handleGenerateClick</span> = <span class="code-function">useCallback</span>(<span class="code-keyword">async</span> () => {
    <span class="code-keyword">if</span> (!image1 || !image2 || !image3) {
      <span class="code-function">setError</span>(<span class="code-string">'Please upload three images to begin.'</span>);
      <span class="code-keyword">return</span>;
    }

    <span class="code-function">setIsLoading</span>(<span class="code-keyword">true</span>);
    <span class="code-function">setError</span>(<span class="code-keyword">null</span>);
    <span class="code-function">setGeneratedImages</span>([]);

    <span class="code-keyword">try</span> {
      <span class="code-comment">// Pass all three images to AI service</span>
      <span class="code-keyword">const</span> results = <span class="code-keyword">await</span> <span class="code-function">generatePolaroidImages</span>(
        image1,
        image2,
        image3,
        POSE_PROMPTS.<span class="code-function">map</span>(p => p.prompt)
      );
      <span class="code-function">setGeneratedImages</span>(results);
    } <span class="code-keyword">catch</span> (err) {
      <span class="code-function">handleGenerationError</span>(err);
    } <span class="code-keyword">finally</span> {
      <span class="code-function">setIsLoading</span>(<span class="code-keyword">false</span>);
    }
  }, [image1, image2, image3]);

  <span class="code-keyword">return</span> (
    &lt;<span class="code-keyword">div</span> className=<span class="code-string">"min-h-screen"</span>&gt;
      &lt;<span class="code-keyword">header</span>&gt;
        &lt;<span class="code-keyword">h1</span>&gt;Polaroid Moments Generator&lt;/<span class="code-keyword">h1</span>&gt;
        &lt;<span class="code-keyword">p</span>&gt;Create candid, retro-style photos from three images.&lt;/<span class="code-keyword">p</span>&gt;
      &lt;/<span class="code-keyword">header</span>&gt;

      &lt;ImageUploader
        onImage1Select={setImage1}
        onImage2Select={setImage2}
        onImage3Select={setImage3}
      /&gt;

      &lt;<span class="code-keyword">button</span>
        onClick={handleGenerateClick}
        disabled={!image1 || !image2 || !image3 || isLoading}
      &gt;
        Generate <span class="code-number">4</span> Images
      &lt;/<span class="code-keyword">button</span>&gt;

      {isLoading && &lt;Loader /&gt;}
      {generatedImages.length > <span class="code-number">0</span> && (
        &lt;ImageGrid images={generatedImages} captions={POSE_PROMPTS.<span class="code-function">map</span>(p => p.title)} /&gt;
      )}
    &lt;/<span class="code-keyword">div</span>&gt;
  );
};
            </pre>
        </div>

        <div class="code-container">
            <div class="code-header">üé≠ constants.ts - Story-Driven Pose Prompts</div>
            <pre class="code-block">
<span class="code-keyword">export</span> <span class="code-keyword">interface</span> PosePrompt {
  title: <span class="code-keyword">string</span>;
  prompt: <span class="code-keyword">string</span>;
}

<span class="code-comment">// Four narrative-driven poses for three-person compositions</span>
<span class="code-keyword">export</span> <span class="code-keyword">const</span> POSE_PROMPTS: PosePrompt[] = [
  {
    title: <span class="code-string">"Victory Shout"</span>,
    prompt: <span class="code-string">`Three friends stand side by side, fists clenched and faces lit
             with excitement as if they've just won a big game or achieved
             something together. Their wide smiles and triumphant poses capture
             a burst of energy and celebration, telling the story of a shared
             victory moment.`</span>
  },
  {
    title: <span class="code-string">"Whispering a Secret"</span>,
    prompt: <span class="code-string">`Two friends lean in as if one is whispering a secret to the other,
             while the third friend looks at the camera with a curious or amused
             expression. This tells a fun little story within the photo.`</span>
  },
  {
    title: <span class="code-string">"Celebration Pose"</span>,
    prompt: <span class="code-string">`Three friends stand close together with arms around each other's
             shoulders, grinning widely at the camera. One of them points
             playfully towards the middle friend, as if highlighting him,
             while all three radiate energy and joy.`</span>
  },
  {
    title: <span class="code-string">"Mixed Reactions"</span>,
    prompt: <span class="code-string">`Three friends strike contrasting poses ‚Äî one scratches his head
             with a puzzled look, the middle stands confidently with arms
             crossed, while the third gestures to himself in surprise.
             Together, they create a playful scene of disagreement.`</span>
  }
];

<span class="code-comment">// Enhanced prompting for better three-person coordination</span>
<span class="code-keyword">export</span> <span class="code-keyword">const</span> <span class="code-function">buildThreePersonPrompt</span> = (basePose: <span class="code-keyword">string</span>): <span class="code-keyword">string</span> => {
  <span class="code-keyword">return</span> <span class="code-string">`${basePose}

  IMPORTANT REQUIREMENTS:
  - All three people must be clearly visible and well-positioned
  - Maintain individual facial features and characteristics
  - Create natural group dynamics and realistic interactions
  - Apply vintage polaroid aesthetic with authentic color grading
  - Ensure proper lighting and shadow coordination across all subjects
  - Generate high-quality, print-ready resolution`</span>;
};
            </pre>
        </div>

        <div class="code-container">
            <div class="code-header">ü§ñ geminiService.ts - Three-Person AI Processing</div>
            <pre class="code-block">
<span class="code-keyword">import</span> { GoogleGenerativeAI } <span class="code-keyword">from</span> <span class="code-string">'@google/generative-ai'</span>;

<span class="code-comment">// Initialize Gemini AI for advanced multi-image processing</span>
<span class="code-keyword">const</span> genAI = <span class="code-keyword">new</span> <span class="code-function">GoogleGenerativeAI</span>(process.env.GEMINI_API_KEY || <span class="code-string">''</span>);

<span class="code-keyword">export</span> <span class="code-keyword">async</span> <span class="code-keyword">function</span> <span class="code-function">generatePolaroidImages</span>(
  image1: File,
  image2: File,
  image3: File,
  prompts: <span class="code-keyword">string</span>[]
): Promise&lt;<span class="code-keyword">string</span>[]&gt; {

  <span class="code-keyword">try</span> {
    <span class="code-comment">// Convert all three images to base64 for AI processing</span>
    <span class="code-keyword">const</span> [base64Image1, base64Image2, base64Image3] = <span class="code-keyword">await</span> Promise.<span class="code-function">all</span>([
      <span class="code-function">fileToBase64</span>(image1),
      <span class="code-function">fileToBase64</span>(image2),
      <span class="code-function">fileToBase64</span>(image3)
    ]);

    <span class="code-keyword">const</span> model = genAI.<span class="code-function">getGenerativeModel</span>({ model: <span class="code-string">'gemini-1.5-pro'</span> });
    <span class="code-keyword">const</span> results: <span class="code-keyword">string</span>[] = [];

    <span class="code-comment">// Process each pose with all three images</span>
    <span class="code-keyword">for</span> (<span class="code-keyword">const</span> prompt <span class="code-keyword">of</span> prompts) {
      <span class="code-keyword">const</span> enhancedPrompt = <span class="code-function">buildAdvancedThreePersonPrompt</span>(prompt);

      <span class="code-keyword">const</span> result = <span class="code-keyword">await</span> model.<span class="code-function">generateContent</span>([
        enhancedPrompt,
        {
          inlineData: {
            data: base64Image1,
            mimeType: image1.type,
          },
        },
        {
          inlineData: {
            data: base64Image2,
            mimeType: image2.type,
          },
        },
        {
          inlineData: {
            data: base64Image3,
            mimeType: image3.type,
          },
        },
      ]);

      <span class="code-keyword">const</span> response = <span class="code-keyword">await</span> result.response;
      <span class="code-keyword">const</span> generatedImageUrl = <span class="code-keyword">await</span> <span class="code-function">processImageResponse</span>(response);
      results.<span class="code-function">push</span>(generatedImageUrl);
    }

    <span class="code-keyword">return</span> results;

  } <span class="code-keyword">catch</span> (error) {
    console.<span class="code-function">error</span>(<span class="code-string">'Three-person image generation failed:'</span>, error);
    <span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-function">Error</span>(<span class="code-string">'Failed to generate group polaroid images'</span>);
  }
}

<span class="code-comment">// Advanced prompt engineering for three-person coordination</span>
<span class="code-keyword">function</span> <span class="code-function">buildAdvancedThreePersonPrompt</span>(basePose: <span class="code-keyword">string</span>): <span class="code-keyword">string</span> {
  <span class="code-keyword">return</span> <span class="code-string">`Create a vintage polaroid-style group photo with the following composition:

${basePose}

TECHNICAL REQUIREMENTS:
- Seamlessly blend all three people into a single cohesive scene
- Maintain individual facial features and body characteristics
- Create realistic group spacing and natural interactions
- Apply authentic vintage polaroid color grading and aesthetic
- Ensure consistent lighting and shadow effects across all subjects
- Generate in classic polaroid aspect ratio with white border

ARTISTIC DIRECTION:
- Capture the emotional essence of the pose description
- Create authentic 1970s-80s polaroid film aesthetic
- Add subtle film grain and characteristic color shifts
- Ensure each person's personality shines through
- Make the composition feel natural and unposed despite coordination

OUTPUT: High-quality vintage polaroid group photo featuring all three subjects`</span>;
}

<span class="code-comment">// Utility function for base64 conversion</span>
<span class="code-keyword">async</span> <span class="code-keyword">function</span> <span class="code-function">fileToBase64</span>(file: File): Promise&lt;<span class="code-keyword">string</span>&gt; {
  <span class="code-keyword">return</span> <span class="code-keyword">new</span> Promise((resolve, reject) => {
    <span class="code-keyword">const</span> reader = <span class="code-keyword">new</span> <span class="code-function">FileReader</span>();
    reader.<span class="code-function">onload</span> = () => {
      <span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> reader.result === <span class="code-string">'string'</span>) {
        <span class="code-comment">// Remove data URL prefix for base64 data</span>
        <span class="code-keyword">const</span> base64 = reader.result.<span class="code-function">split</span>(<span class="code-string">','</span>)[<span class="code-number">1</span>];
        <span class="code-function">resolve</span>(base64);
      } <span class="code-keyword">else</span> {
        <span class="code-function">reject</span>(<span class="code-keyword">new</span> <span class="code-function">Error</span>(<span class="code-string">'Failed to convert file to base64'</span>));
      }
    };
    reader.<span class="code-function">onerror</span> = reject;
    reader.<span class="code-function">readAsDataURL</span>(file);
  });
}
            </pre>
        </div>

        <div class="code-container">
            <div class="code-header">üì§ ImageUploader.tsx - Three-Image Upload Component</div>
            <pre class="code-block">
<span class="code-keyword">import</span> React, { useRef, useState } <span class="code-keyword">from</span> <span class="code-string">'react'</span>;

<span class="code-keyword">interface</span> ImageUploaderProps {
  onImage1Select: (file: File | <span class="code-keyword">null</span>) => <span class="code-keyword">void</span>;
  onImage2Select: (file: File | <span class="code-keyword">null</span>) => <span class="code-keyword">void</span>;
  onImage3Select: (file: File | <span class="code-keyword">null</span>) => <span class="code-keyword">void</span>;
}

<span class="code-keyword">const</span> <span class="code-function">ImageUploader</span>: React.FC&lt;ImageUploaderProps&gt; = ({
  onImage1Select,
  onImage2Select,
  onImage3Select,
}) => {
  <span class="code-keyword">const</span> [preview1, setPreview1] = <span class="code-function">useState</span>&lt;<span class="code-keyword">string</span> | <span class="code-keyword">null</span>&gt;(<span class="code-keyword">null</span>);
  <span class="code-keyword">const</span> [preview2, setPreview2] = <span class="code-function">useState</span>&lt;<span class="code-keyword">string</span> | <span class="code-keyword">null</span>&gt;(<span class="code-keyword">null</span>);
  <span class="code-keyword">const</span> [preview3, setPreview3] = <span class="code-function">useState</span>&lt;<span class="code-keyword">string</span> | <span class="code-keyword">null</span>&gt;(<span class="code-keyword">null</span>);

  <span class="code-keyword">const</span> fileInputRef1 = <span class="code-function">useRef</span>&lt;HTMLInputElement&gt;(<span class="code-keyword">null</span>);
  <span class="code-keyword">const</span> fileInputRef2 = <span class="code-function">useRef</span>&lt;HTMLInputElement&gt;(<span class="code-keyword">null</span>);
  <span class="code-keyword">const</span> fileInputRef3 = <span class="code-function">useRef</span>&lt;HTMLInputElement&gt;(<span class="code-keyword">null</span>);

  <span class="code-comment">// Generic handler for any of the three image slots</span>
  <span class="code-keyword">const</span> <span class="code-function">handleImageSelect</span> = (
    imageNumber: <span class="code-number">1</span> | <span class="code-number">2</span> | <span class="code-number">3</span>,
    event: React.ChangeEvent&lt;HTMLInputElement&gt;
  ) => {
    <span class="code-keyword">const</span> file = event.target.files?.[<span class="code-number">0</span>];

    <span class="code-keyword">if</span> (file && <span class="code-function">validateImageFile</span>(file)) {
      <span class="code-comment">// Create preview URL</span>
      <span class="code-keyword">const</span> previewUrl = URL.<span class="code-function">createObjectURL</span>(file);

      <span class="code-comment">// Update appropriate state based on image number</span>
      <span class="code-keyword">switch</span> (imageNumber) {
        <span class="code-keyword">case</span> <span class="code-number">1</span>:
          <span class="code-function">setPreview1</span>(previewUrl);
          <span class="code-function">onImage1Select</span>(file);
          <span class="code-keyword">break</span>;
        <span class="code-keyword">case</span> <span class="code-number">2</span>:
          <span class="code-function">setPreview2</span>(previewUrl);
          <span class="code-function">onImage2Select</span>(file);
          <span class="code-keyword">break</span>;
        <span class="code-keyword">case</span> <span class="code-number">3</span>:
          <span class="code-function">setPreview3</span>(previewUrl);
          <span class="code-function">onImage3Select</span>(file);
          <span class="code-keyword">break</span>;
      }
    }
  };

  <span class="code-comment">// Validation for uploaded images</span>
  <span class="code-keyword">const</span> <span class="code-function">validateImageFile</span> = (file: File): <span class="code-keyword">boolean</span> => {
    <span class="code-keyword">const</span> validTypes = [<span class="code-string">'image/jpeg'</span>, <span class="code-string">'image/jpg'</span>, <span class="code-string">'image/png'</span>, <span class="code-string">'image/webp'</span>];
    <span class="code-keyword">const</span> maxSize = <span class="code-number">10</span> * <span class="code-number">1024</span> * <span class="code-number">1024</span>; <span class="code-comment">// 10MB</span>

    <span class="code-keyword">if</span> (!validTypes.<span class="code-function">includes</span>(file.type)) {
      <span class="code-function">alert</span>(<span class="code-string">'Please upload a valid image file (JPEG, PNG, or WebP)'</span>);
      <span class="code-keyword">return</span> <span class="code-keyword">false</span>;
    }

    <span class="code-keyword">if</span> (file.size > maxSize) {
      <span class="code-function">alert</span>(<span class="code-string">'Image size must be less than 10MB'</span>);
      <span class="code-keyword">return</span> <span class="code-keyword">false</span>;
    }

    <span class="code-keyword">return</span> <span class="code-keyword">true</span>;
  };

  <span class="code-keyword">return</span> (
    &lt;<span class="code-keyword">div</span> className=<span class="code-string">"grid grid-cols-1 md:grid-cols-3 gap-6"</span>&gt;
      {[<span class="code-number">1</span>, <span class="code-number">2</span>, <span class="code-number">3</span>].<span class="code-function">map</span>((num) => (
        &lt;<span class="code-keyword">div</span> key={num} className=<span class="code-string">"upload-slot"</span>&gt;
          &lt;<span class="code-keyword">h3</span>&gt;Person {num}&lt;/<span class="code-keyword">h3</span>&gt;
          &lt;<span class="code-keyword">div</span> className=<span class="code-string">"upload-area"</span>
               onClick={() => {
                 <span class="code-keyword">if</span> (num === <span class="code-number">1</span>) fileInputRef1.current?.<span class="code-function">click</span>();
                 <span class="code-keyword">if</span> (num === <span class="code-number">2</span>) fileInputRef2.current?.<span class="code-function">click</span>();
                 <span class="code-keyword">if</span> (num === <span class="code-number">3</span>) fileInputRef3.current?.<span class="code-function">click</span>();
               }}
          &gt;
            {((num === <span class="code-number">1</span> && preview1) ||
              (num === <span class="code-number">2</span> && preview2) ||
              (num === <span class="code-number">3</span> && preview3)) ? (
              &lt;<span class="code-keyword">img</span>
                src={num === <span class="code-number">1</span> ? preview1! : num === <span class="code-number">2</span> ? preview2! : preview3!}
                alt={<span class="code-string">`Person ${num}`</span>}
                className=<span class="code-string">"preview-image"</span>
              /&gt;
            ) : (
              &lt;<span class="code-keyword">div</span> className=<span class="code-string">"upload-placeholder"</span>&gt;
                &lt;<span class="code-keyword">span</span>&gt;Click to upload photo&lt;/<span class="code-keyword">span</span>&gt;
              &lt;/<span class="code-keyword">div</span>&gt;
            )}
          &lt;/<span class="code-keyword">div</span>&gt;

          &lt;<span class="code-keyword">input</span>
            ref={num === <span class="code-number">1</span> ? fileInputRef1 : num === <span class="code-number">2</span> ? fileInputRef2 : fileInputRef3}
            type=<span class="code-string">"file"</span>
            accept=<span class="code-string">"image/*"</span>
            onChange={(e) => <span class="code-function">handleImageSelect</span>(num <span class="code-keyword">as</span> <span class="code-number">1</span> | <span class="code-number">2</span> | <span class="code-number">3</span>, e)}
            style={{ display: <span class="code-string">'none'</span> }}
          /&gt;
        &lt;/<span class="code-keyword">div</span>&gt;
      ))}
    &lt;/<span class="code-keyword">div</span>&gt;
  );
};

<span class="code-keyword">export</span> { ImageUploader };
            </pre>
        </div>

        <div class="content-section">
            <h2>üîß Technical Implementation Notes</h2>

            <h3>üéØ Three-Person Architecture Challenges</h3>
            <ul>
                <li><strong>Multi-Subject Coordination:</strong> Complex state management for three separate image inputs</li>
                <li><strong>Advanced AI Prompting:</strong> Sophisticated prompt engineering for realistic group dynamics</li>
                <li><strong>Memory Management:</strong> Efficient handling of three large image files simultaneously</li>
                <li><strong>Group Composition Logic:</strong> AI algorithms for natural three-person spatial relationships</li>
            </ul>

            <h3>üöÄ Enhanced Features Over Two-Person Version</h3>
            <ul>
                <li><strong>Complex Social Dynamics:</strong> Support for insider/outsider dynamics (secrets, pointing, etc.)</li>
                <li><strong>Narrative Sophistication:</strong> More compelling storytelling with three-character scenarios</li>
                <li><strong>Advanced Validation:</strong> Triple image validation and preprocessing workflows</li>
                <li><strong>Optimized Processing:</strong> Parallel image processing and enhanced prompt strategies</li>
            </ul>

            <h3>üõ°Ô∏è Quality Assurance & Error Handling</h3>
            <ul>
                <li><strong>Input Validation:</strong> Comprehensive file type, size, and quality checks for all three images</li>
                <li><strong>AI Response Validation:</strong> Verification that all three subjects are properly included</li>
                <li><strong>Graceful Degradation:</strong> Fallback strategies when group composition fails</li>
                <li><strong>Performance Monitoring:</strong> Processing time optimization for three-image workflows</li>
            </ul>
        </div>

        <div class="demo-links">
            <a href="https://polaroid-moments-generator-3-person-169218045868.us-west1.run.app/" target="_blank" class="demo-btn">üöÄ Try Live Demo</a>
            <a href="polaroid-moments-generator-3.html" class="demo-btn secondary">üìñ View Full Project Details</a>
        </div>

        <div class="back-nav" style="text-align: center; margin-top: 40px;">
            <a href="polaroid-moments-generator-3.html">‚Üê Back to Project Overview</a> |
            <a href="index.html">Portfolio Home</a>
        </div>
    </div>
</body>
</html>