<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Public Sentiment Collection Agent - Geographic Sentiment Analysis</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: #222;
            background-color: #ffffff;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        .back-nav {
            margin-bottom: 20px;
        }

        .back-nav a {
            color: #007BFF;
            text-decoration: none;
            font-size: 1rem;
        }

        .back-nav a:hover {
            text-decoration: underline;
        }

        .project-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 0;
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            border-radius: 10px;
        }

        .project-header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .project-header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .badges {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .badge {
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.9rem;
        }

        .demo-links {
            text-align: center;
            margin: 30px 0;
        }

        .demo-btn {
            display: inline-block;
            background-color: #007BFF;
            color: white;
            padding: 12px 25px;
            text-decoration: none;
            border-radius: 5px;
            margin: 0 10px;
            font-weight: bold;
            transition: background-color 0.3s;
        }

        .demo-btn:hover {
            background-color: #0056b3;
        }

        .demo-btn.secondary {
            background-color: #28a745;
        }

        .demo-btn.secondary:hover {
            background-color: #218838;
        }

        .demo-btn.colab {
            background-color: #f9ab00;
        }

        .demo-btn.colab:hover {
            background-color: #e09600;
        }

        .content-section {
            margin: 40px 0;
            padding: 30px;
            background-color: #f9f9f9;
            border-radius: 8px;
            border-left: 5px solid #10b981;
        }

        .content-section h2 {
            color: #10b981;
            margin-bottom: 20px;
            font-size: 1.8rem;
        }

        .content-section h3 {
            color: #333;
            margin: 20px 0 10px 0;
            font-size: 1.3rem;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-item {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #ddd;
        }

        .feature-item h4 {
            color: #10b981;
            margin-bottom: 10px;
        }

        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
        }

        .tech-item {
            background-color: #10b981;
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.9rem;
        }

        .code-block {
            background-color: #f4f4f4;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
            font-family: monospace;
            overflow-x: auto;
        }

        .metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .metric-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            border: 2px solid #10b981;
        }

        .metric-number {
            font-size: 2rem;
            font-weight: bold;
            color: #10b981;
        }

        .metric-label {
            color: #666;
            font-size: 0.9rem;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 5px solid #f9ab00;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .warning-box h4 {
            color: #856404;
            margin-bottom: 10px;
        }

        @media (max-width: 768px) {
            .project-header h1 {
                font-size: 2rem;
            }

            .project-header p {
                font-size: 1rem;
            }

            .demo-btn {
                margin: 5px;
                padding: 10px 20px;
            }

            .container {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <nav class="back-nav">
            <a href="index.html">‚Üê Back to Portfolio</a>
        </nav>

        <div class="project-header">
            <h1>üåç Public Sentiment Collection Agent</h1>
            <p>AI-powered geographic sentiment analysis with credibility tracking and source diversity assessment</p>

            <div class="badges">
                <span class="badge">Python 3.9+</span>
                <span class="badge">Gemini 2.0 Flash</span>
                <span class="badge">Tavily Search API</span>
                <span class="badge">Pandas & NumPy</span>
                <span class="badge">Multi-Agent System</span>
            </div>
        </div>

        <div class="demo-links">
            <a href="https://colab.research.google.com/drive/1On9i4SrYBVQqG-Fex5up9o3Eo1Y6mWls" target="_blank" class="demo-btn colab">üöÄ Launch in Google Colab</a>
            <a href="public-sentiment-agent-source.html" target="_blank" class="demo-btn secondary">üìÅ View Source Code</a>
        </div>

        <div class="content-section">
            <h2>üìã Project Overview & Problem Statement</h2>
            <p><strong>Challenge:</strong> Traditional sentiment analysis tools lump all geographic regions together, producing misleading global averages that mask critical cultural and regional differences. For example, analyzing "public opinion on alcohol consumption" globally would show a mixed sentiment, completely missing that Saudi Arabia has 95% negative sentiment (religious/cultural) while Germany has 70% positive sentiment (beer culture).</p>

            <p><strong>Solution:</strong> Public Sentiment Collection Agent uses geographic segmentation, source diversity tracking, and credibility scoring to provide accurate, context-aware sentiment analysis. The system automatically detects data quality issues like echo chamber bias and single-domain concentration.</p>

            <div class="warning-box">
                <h4>üö® Why Geographic Filtering Matters</h4>
                <p><strong>Example: "Public opinion on alcohol consumption"</strong></p>
                <p>‚ùå <strong>WITHOUT geographic filtering:</strong> 60% negative, 30% neutral, 10% positive (MISLEADING - lumps all regions together)</p>
                <p>‚úÖ <strong>WITH geographic filtering:</strong></p>
                <ul style="margin-top: 10px; padding-left: 20px;">
                    <li>Saudi Arabia: 95% negative (religious/cultural context)</li>
                    <li>Germany: 70% positive (beer culture)</li>
                    <li>USA: 50/50 split (health concerns vs. social acceptance)</li>
                </ul>
            </div>

            <h3>Key Benefits</h3>
            <ul>
                <li><strong>Geographic Segmentation:</strong> Analyze sentiment by country/region to reveal cultural nuances</li>
                <li><strong>Source Diversity Tracking:</strong> Monitor news, social media, forums, blogs across regions</li>
                <li><strong>Credibility Scoring:</strong> 0-100 score based on source diversity and sample size</li>
                <li><strong>Automatic Bias Detection:</strong> Warns about echo chambers, single-domain concentration</li>
                <li><strong>Comprehensive Output:</strong> 10 files per analysis (1 report, 4 charts, 5 CSV exports)</li>
            </ul>
        </div>

        <div class="content-section">
            <h2>ü§ñ AI Capabilities & 5-Agent Architecture</h2>

            <div class="features-grid">
                <div class="feature-item">
                    <h4>üåç Geographic Social Listening Agent</h4>
                    <p>Collects sentiment data with location-specific filtering using Tavily Search API. Tracks source diversity and issues quality warnings.</p>
                </div>

                <div class="feature-item">
                    <h4>üß† Comparative Sentiment Analysis Agent</h4>
                    <p>Processes data separately for each location using Gemini AI. Calculates credibility scores: (Diversity √ó 0.6) + (Sample Size √ó 0.4)</p>
                </div>

                <div class="feature-item">
                    <h4>üìä Comparative Visualization Designer Agent</h4>
                    <p>Creates 4 professional charts: regional sentiment comparison, credibility dashboard, source diversity, and theme frequency.</p>
                </div>

                <div class="feature-item">
                    <h4>üíæ Data Export Agent</h4>
                    <p>Exports 5 CSV files: sentiment distribution, emotion frequency, theme comparison, source attribution, and credibility metrics.</p>
                </div>

                <div class="feature-item">
                    <h4>üìù Enhanced Packaging Agent</h4>
                    <p>Generates executive-ready markdown reports with embedded visualizations, data tables, and methodological limitations.</p>
                </div>
            </div>

            <h3>AI Processing Pipeline</h3>
            <ul>
                <li><strong>Step 1:</strong> Geographic data collection with location-based web search</li>
                <li><strong>Step 2:</strong> Source diversity analysis and bias detection</li>
                <li><strong>Step 3:</strong> Cultural context-aware sentiment analysis using Gemini AI</li>
                <li><strong>Step 4:</strong> Credibility scoring and quality assessment</li>
                <li><strong>Step 5:</strong> Comparative visualization generation</li>
                <li><strong>Step 6:</strong> Data export to CSV for Excel/Google Sheets</li>
                <li><strong>Step 7:</strong> Executive report packaging with all insights</li>
            </ul>
        </div>

        <div class="content-section">
            <h2>üîç Source Diversity & Credibility Features</h2>

            <h3>Source Type Classification</h3>
            <p>The system automatically classifies sources into categories:</p>
            <ul>
                <li><strong>News:</strong> Professional journalism (BBC, CNN, Reuters, local news sites)</li>
                <li><strong>Social Media:</strong> User-generated content (Reddit, Twitter, Facebook)</li>
                <li><strong>Institutional:</strong> Government and academic sources (.gov, .edu)</li>
                <li><strong>Blogs:</strong> Opinion and commentary (Medium, personal blogs)</li>
                <li><strong>Forums:</strong> Community discussions and Q&A sites</li>
            </ul>

            <h3>Automatic Bias Warnings</h3>
            <p>The system issues warnings when data quality is compromised:</p>
            <div class="code-block">
‚ö†Ô∏è Over 70% sources are social media (potential echo chamber bias)
‚ö†Ô∏è 60% of sources from single domain: reddit.com
‚ö†Ô∏è Only 4 unique sources (low diversity)
            </div>

            <h3>Credibility Score Calculation</h3>
            <div class="code-block">
Credibility Score (0-100) =
    Source Diversity Score √ó 0.6 +
    Sample Size Score √ó 0.4

üü¢ 70-100: High confidence (diverse sources, adequate sample)
üü° 50-69: Medium confidence (some limitations present)
üî¥ 0-49: Low confidence (significant data quality concerns)
            </div>
        </div>

        <div class="content-section">
            <h2>üìä Output Package (10 Files Per Analysis)</h2>

            <h3>1 Markdown Report</h3>
            <ul>
                <li>Executive summary with regional comparison</li>
                <li>Sentiment distribution tables by location</li>
                <li>Emotion and theme frequency breakdown</li>
                <li>Credibility assessment with warnings</li>
                <li>Source diversity analysis</li>
                <li>Methodological limitations</li>
                <li>Actionable recommendations</li>
            </ul>

            <h3>4 Visualization Charts (PNG)</h3>
            <ul>
                <li><strong>Regional Sentiment Comparison:</strong> Grouped bar chart showing positive/negative/neutral by location</li>
                <li><strong>Credibility Dashboard:</strong> Horizontal bar charts for credibility scores and sample sizes</li>
                <li><strong>Source Diversity Breakdown:</strong> Stacked bar chart showing source types by location</li>
                <li><strong>Theme Frequency Comparison:</strong> Grouped bar chart showing theme mentions across regions</li>
            </ul>

            <h3>5 CSV Data Exports</h3>
            <ul>
                <li><strong>sentiment_distribution.csv:</strong> Positive/negative/neutral percentages by location</li>
                <li><strong>emotion_frequency.csv:</strong> Fear, anger, hope, joy, sadness counts per region</li>
                <li><strong>theme_comparison.csv:</strong> Matrix of theme frequencies across locations</li>
                <li><strong>source_attribution.csv:</strong> Domain-level source breakdown by location</li>
                <li><strong>credibility_metrics.csv:</strong> Detailed quality metrics with warnings</li>
            </ul>
        </div>

        <div class="content-section">
            <h2>üõ†Ô∏è Technical Architecture & Implementation</h2>

            <h3>AI & Analytics Stack</h3>
            <div class="tech-stack">
                <span class="tech-item">Google Gemini 2.0 Flash</span>
                <span class="tech-item">Tavily Search API</span>
                <span class="tech-item">Python 3.9+</span>
                <span class="tech-item">Pandas 2.0+</span>
                <span class="tech-item">Matplotlib</span>
                <span class="tech-item">Seaborn</span>
            </div>

            <h3>Multi-Agent Framework</h3>
            <div class="tech-stack">
                <span class="tech-item">5 Specialized Agents</span>
                <span class="tech-item">Web Search Integration</span>
                <span class="tech-item">NLP Sentiment Analysis</span>
                <span class="tech-item">Data Quality Scoring</span>
                <span class="tech-item">Auto Visualization</span>
            </div>

            <h3>Deployment Options</h3>
            <div class="tech-stack">
                <span class="tech-item">Google Colab</span>
                <span class="tech-item">Jupyter Notebook</span>
                <span class="tech-item">Local Python</span>
                <span class="tech-item">Streamlit (Optional)</span>
            </div>

            <h3>System Architecture</h3>
            <div class="code-block">
Pipeline Flow:
1. Geographic Listening ‚Üí Web search with location filters
2. Source Analysis ‚Üí Diversity tracking & bias detection
3. Sentiment Analysis ‚Üí Gemini AI with cultural context
4. Credibility Scoring ‚Üí Quality assessment (0-100)
5. Visualization ‚Üí 4 professional charts
6. Data Export ‚Üí 5 CSV files for Excel/Sheets
7. Report Packaging ‚Üí Executive markdown report
            </div>
        </div>

        <div class="content-section">
            <h2>üìñ Development Setup & Usage Guide</h2>

            <h3>Quick Start with Google Colab (Recommended)</h3>
            <ol>
                <li><strong>Open Colab Notebook:</strong> Click "Launch in Google Colab" button above</li>
                <li><strong>Add API Keys:</strong> Add GOOGLE_API_KEY and TAVILY_API_KEY to Colab Secrets (üîë icon)</li>
                <li><strong>Run Setup Cells:</strong> Install dependencies and configure APIs</li>
                <li><strong>Run Analysis:</strong> Execute run_enhanced_sentiment_pipeline() with your topic and locations</li>
                <li><strong>Download Results:</strong> Get markdown report, 4 charts, and 5 CSV files</li>
            </ol>

            <h3>Example Usage</h3>
            <div class="code-block">
# Example: Analyze firecracker ban opinions across cultures
results = run_enhanced_sentiment_pipeline(
    issue_keyword="Should firecrackers and fireworks be banned?",
    locations=["Malaysia", "Germany", "USA", "India"],
    num_sources_per_location=15,
    output_dir="."
)

# Output:
# - comparative_report_20251024_123456.md
# - regional_comparison_20251024_123456.png
# - credibility_dashboard_20251024_123456.png
# - source_diversity_20251024_123456.png
# - theme_frequency_20251024_123456.png
# - sentiment_distribution_20251024_123456.csv
# - emotion_frequency_20251024_123456.csv
# - theme_comparison_20251024_123456.csv
# - source_attribution_20251024_123456.csv
# - credibility_metrics_20251024_123456.csv
            </div>

            <h3>Required API Keys</h3>
            <ul>
                <li><strong>Google AI Studio API:</strong> Get from <a href="https://aistudio.google.com/app/apikey" target="_blank">Google AI Studio</a> (free tier available)</li>
                <li><strong>Tavily Search API:</strong> Get from <a href="https://tavily.com" target="_blank">Tavily</a> (free 1,000 searches/month)</li>
            </ul>
        </div>

        <div class="content-section">
            <h2>üìä Performance Metrics & Business Impact</h2>

            <div class="metrics">
                <div class="metric-card">
                    <div class="metric-number">10-15 min</div>
                    <div class="metric-label">Full Analysis Time</div>
                </div>
                <div class="metric-card">
                    <div class="metric-number">10</div>
                    <div class="metric-label">Files Generated</div>
                </div>
                <div class="metric-card">
                    <div class="metric-number">5</div>
                    <div class="metric-label">Specialized Agents</div>
                </div>
                <div class="metric-card">
                    <div class="metric-number">0-100</div>
                    <div class="metric-label">Credibility Score</div>
                </div>
            </div>

            <h3>Business Value Demonstration</h3>
            <ul>
                <li><strong>Addresses Cultural Nuance:</strong> Reveals regional differences instead of misleading global averages</li>
                <li><strong>Transparent Quality Metrics:</strong> Users see exactly how trustworthy each regional analysis is</li>
                <li><strong>Prevents Flawed Decisions:</strong> Detects and warns about echo chamber bias and data quality issues</li>
                <li><strong>Production-Ready Output:</strong> Professional charts, CSV exports, and executive reports</li>
                <li><strong>Cost-Effective:</strong> ~$0.50 per analysis vs. $10,000+ for manual research</li>
            </ul>

            <h3>Use Cases</h3>
            <ul>
                <li><strong>Market Research:</strong> Understand regional product acceptance before launch</li>
                <li><strong>Policy Analysis:</strong> Gauge public opinion on regulations by region</li>
                <li><strong>Brand Monitoring:</strong> Track sentiment across different markets</li>
                <li><strong>Competitive Intelligence:</strong> Compare regional perception of competitors</li>
                <li><strong>Crisis Management:</strong> Monitor sentiment evolution during PR incidents</li>
            </ul>
        </div>

        <div class="content-section">
            <h2>‚ö†Ô∏è Limitations & Disclaimers</h2>

            <h3>Data Collection Limitations</h3>
            <ul>
                <li><strong>Language Bias:</strong> Primarily English-language sources (non-English opinions underrepresented)</li>
                <li><strong>Digital Divide:</strong> Only captures online populations (offline communities excluded)</li>
                <li><strong>Platform Bias:</strong> Web search favors certain platforms over others</li>
                <li><strong>Temporal:</strong> Snapshot in time, sentiment may shift rapidly</li>
                <li><strong>Sample Size:</strong> Small samples may not represent entire populations</li>
            </ul>

            <h3>Geographic Filtering Challenges</h3>
            <ul>
                <li>Geographic attribution is approximate (based on search query modifiers)</li>
                <li>Cross-border content may appear in multiple regions</li>
                <li>VPNs and global platforms complicate true location detection</li>
            </ul>

            <h3>Recommended Use</h3>
            <p>‚úÖ <strong>Good for:</strong> Directional insights, trend detection, hypothesis generation</p>
            <p>‚ö†Ô∏è <strong>Caution for:</strong> Policy decisions, legal proceedings, precise measurement</p>
            <p>‚ùå <strong>Not for:</strong> Statistical inference about entire populations</p>
        </div>

        <div class="demo-links">
            <a href="https://colab.research.google.com/drive/1On9i4SrYBVQqG-Fex5up9o3Eo1Y6mWls" target="_blank" class="demo-btn colab">üöÄ Try in Google Colab</a>
            <a href="public-sentiment-agent-source.html" target="_blank" class="demo-btn secondary">üìñ View Source Code</a>
        </div>

        <nav class="back-nav" style="text-align: center; margin-top: 40px;">
            <a href="index.html">‚Üê Back to Portfolio</a> |
            <a href="project-categories.html">View All Categories</a>
        </nav>
    </div>
</body>
</html>